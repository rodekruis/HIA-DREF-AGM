env:
  # ###########################################################################
  # FEATURES:
  # ###########################################################################
  #
  # For offline support: (set to 'true' / 'false')
  NG_USE_SERVICE_WORKER: 'true'
  #
  # Use the "Offers" content-type: (set to 'true' / 'false')
  NG_USE_OFFERS: 'true'
  #
  # Use the "Q&A" content-type: (set to 'true' / 'false')
  NG_USE_Q_AND_AS: 'true'
  #
  # When using "Q&A"s, you can enable search: (set to 'true' / 'false')
  NG_USE_Q_AND_A_SEARCH: 'true'
  #
  # Enable Feedback-prompt on Sub-Category and Offer pages (set to 'true' / 'false')
  NG_USE_FEEDBACK_PROMPT: 'false'
  #
  # Use the language-switcher to switch between Regions (set to 'true' / 'false')
  NG_USE_REGION_PER_LOCALE: 'false'
  #
  # Default language
  NG_LOCALE_LANGUAGE: 'en'
  # Default language direction (Possible values: 'ltr' or 'rtl')
  NG_LOCALE_DIR: 'ltr'
  # Available language options (Comma-separated list like: '<language-code>:<language-name>,ar:العربية,en:English,*:Other...')
  # To disable the language-switcher on the main-page, or when using `NG_USE_REGION_PER_LOCALE=true`, set this to: ''
  NG_LOCALE_ALTERNATIVES: 'ar:العربية, en:English, es:Español, fr:Français, *:Other...'
  # An (optional) explanation below the list of available language options (i.e "* Using Google Translate")
  NG_LOCALE_ALTERNATIVES_EXPLANATION: '* Translations via Google Translate'
  #
  #
  # For demo-purpose only: A highly visible label to show instance name/version
  ENV_NAME: ''
  #
  # ###########################################################################
  # TEXT CONTENT:
  # ###########################################################################
  #
  # A (short) name, visible in the top (navigation-)bar and in the browser's tab/window-title (and search-engine results)
  TXT_APP_NAME: ''
  # An absolute/data-URL to an image, visible in the top (navigation-)bar
  TXT_APP_LOGO_URL: 'data:image/png;base64,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'
  # The first heading, (only) visible on the main-page
  TXT_MAIN_PAGE_HEADER: ''
  # The (optional) introduction text, (only) visible on the main-page.
  # Can be multiple-lines of Markdown syntax or contain some HTML. Newlines need to be specified with `\n` or `<br />`.
  TXT_MAIN_PAGE_INTRO: >-
    \n
    \n
  #
  # An (optional) notice on the top of the screen, can be overwritten on sub-pages per-region by each region's sheet.
  TXT_MAIN_PAGE_NOTICE: ''
  #
  # An (optional) "About"-page
  # Can be multiple-lines of Markdown syntax or contain some HTML. Newlines need to be specified with `\n` or `<br />`.
  TXT_PAGE_ABOUT: >-
    \n
  #
  # An (optional) "Privacy"-page
  # Can be multiple-lines of Markdown syntax or contain some HTML. Newlines need to be specified with `\n` or `<br />`.
  TXT_PAGE_PRIVACY: >-
    \n
  #
  # An (optional) footer at the bottom of the screen, can be overwritten on sub-pages per-region by each region's sheet.
  TXT_MAIN_FOOTER: >-
    **Helpful Information**  \n
    \n
  #
  # Contents of the 'error-page'
  #
  TXT_ERROR_HEADER: 'Data Unavailable'
  # This Sentence will be followd by a link to the "Contact-URL" set below
  TXT_ERROR_MESSAGE: 'Reach out to us at: '
  # Provide a URL that has contact-information on it, or a `mailto:contact@example.org`-URL
  TXT_ERROR_CONTACT_URL: 'https://github.com/${{ github.repository }}'
  # Call to action on a link that will reload the current page
  TXT_ERROR_RETRY: 'Try again?'
  #
  # ###########################################################################
  # REGIONS/SHEETS:
  # ###########################################################################
  #
  # When defining multiple regions/sheets, the order in the following 3 variables need to match.
  # The last option in each list should NOT contain a comma (,) at the end.
  #
  # So in this example:
  #  <REGION>  =  <REGION__LABEL>     =  <REGION__SHEET_ID>
  #  "test"    =  "Test/Development"  =  "10SIJdAQSd6loqCyzwK409QS_01Fgp8P4aqoDO8iBvhY"
  #
  # The URL-part(s) to identify the region
  REGIONS: >-
    info
  # The readable label(s) on the link to the region-page
  REGIONS_LABELS: >-
    Information
  # The ID of the Google Sheet(s) that contains the content for the region
  REGIONS_SHEET_IDS: >-
    14qAiReN9jS9Igy9ElCrHbuQwqIKQFbfmUV7MDNFOsVY

# #############################################################################
#
# See: https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions
#
# #############################################################################

name: Deploy to GitHub Pages

on:
  workflow_dispatch:
  push:
    branches: ['main']
    paths-ignore:
      - '*.md'

permissions:
  actions: read
  contents: read
  pages: write
  id-token: write

concurrency:
  group: 'pages'
  cancel-in-progress: true

jobs:
  deploy:
    # Skip initial run directly after template instantiation
    if: github.event.created != true
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest

    steps:
      - name: Verify ENV configuration
        if: env.REGIONS_SHEET_IDS == 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'
        run: |
          echo "⚠️ Set the appropriate Google Spreadsheet ID in \`REGIONS_SHEET_IDS\`, instead of the default/placeholder-value: \`xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\`" >> $GITHUB_STEP_SUMMARY
          echo "Edit [\`.github/workflows/deploy-github-pages.yml\`](../../edit/main/.github/workflows/deploy-github-pages.yml) to fix." >> $GITHUB_STEP_SUMMARY
          echo "::error file=.github/workflows/deploy-github-pages.yml::Please change the ENV configuration to real-world values" && exit 1

      - name: Checkout
        uses: actions/checkout@v4

      - name: Set up Node.js version
        uses: actions/setup-node@v4
        with:
          node-version-file: 'package.json'
          cache-dependency-path: 'package.json'
          cache: 'npm'

      - name: Install local
        run: 'npm install --no-save'

      - name: Set-up helpful-information
        run: 'mv node_modules/helpful-information ./'

      - name: Install helpful-information
        working-directory: 'helpful-information'
        run: 'npm ci --no-fund --no-audit'
        env:
          HUSKY: 0

      - name: Build
        working-directory: 'helpful-information'
        # NOTE: When the instance will be run on a custom (sub-)domain, remove the `--base-href`-flag+value.
        run: 'npm run build:production -- --output-path=../www --base-href=/${GITHUB_REPOSITORY#*/}/'
        env:
          # See all variables: https://github.com/rodekruis/helpful-information/blob/main/.env.example
          NG_PRODUCTION: 'true'
          GOOGLE_SHEETS_API_KEY: ${{ secrets.GOOGLE_SHEETS_API_KEY }}
          GOOGLE_SHEETS_API_URL: 'https://sheets.googleapis.com/v4/spreadsheets'

      - name: Add generic files
        run: 'cp -r ./public/. www/'

      - name: Add 404.html
        run: 'cp www/index.html www/404.html'

      - name: Setup GitHub Pages
        uses: actions/configure-pages@v5
        with:
          enablement: true

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: 'www'

      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
